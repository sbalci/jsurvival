---
name:  survival
title: Survival Analysis
# title: '`Survival Analysis - ${explanatory}`'
jrs:   '1.1'


items:
    - name: subtitle
      title: '`Survival Analysis - ${explanatory}`'
      type:  Preformatted



    - name:  todo
      title: To Do
      type:  Html
      clearWith:
          - explanatory
          - outcome
          - outcomeLevel
          - overalltime
          - fudate
          - dxdate
          - tint
          - multievent


    # - name:  mydataview
    #   title: mydataview
    #   type:  Preformatted


    # - name:  medianSummary2
    #   title: medianSummary2
    #   type:  Preformatted



    - name:  medianSummary
      # title: Median Survival Summary and Table
      title: '`Median Survival Summary and Table - ${explanatory}`'
      type:  Preformatted
      visible: (!sas)
      clearWith:
          - explanatory
          - outcome
          - outcomeLevel
          - overalltime
          - fudate
          - dxdate
          - tint
          - multievent



    - name:  medianTable
      # title: Median Survival Table
      title: '`Median Survival Table: Levels for ${explanatory}`'
      type:  Table
      rows: 0
      columns:
        - name: factor
          title: "Levels"
          # title: '`Factor - ${explanatory}`'
          type: text
        - name: records
          title: "Records"
          type: integer
        # - name: n_max
        #   title: "n_max"
        #   type: number
        # - name: n_start
        #   title: "n_start"
        #   type: number
        - name: events
          title: "Events"
          type: integer
        - name: rmean
          title: "rmean"
          type: number
        - name: se_rmean
          title: "se_rmean"
          type: number
        - name: median
          title: "Median"
          type: number
        - name: x0_95lcl
          title: "Lower"
          superTitle: '95% Confidence Interval'
          type: number
        - name: x0_95ucl
          title: "Upper"
          superTitle: '95% Confidence Interval'
          type: number
          visible: (!sas)
      clearWith:
          - explanatory
          - outcome
          - outcomeLevel
          - overalltime
          - fudate
          - dxdate
          - tint
          - multievent


    - name:  coxSummary
      # title: Cox Regression Summary and Table
      title: '`Cox Regression Summary and Table - ${explanatory}`'
      type:  Preformatted
      visible: (!sas)
      clearWith:
          - explanatory
          - outcome
          - outcomeLevel
          - overalltime
          - fudate
          - dxdate
          - tint
          - multievent



    - name:  coxTable
      # title: Cox Table
      title: '`Cox Table- ${explanatory}`'
      type:  Table
      rows: 0
      columns:
        - name: Explanatory
          title: "Explanatory"
          type: text
        - name: 'Levels'
          title: "Levels"
          type: text
        - name: 'all'
          title: "all"
          type: text
        - name: 'HR_univariable'
          title: "HR (Univariable)"
          type: text
          visible: (!sas)
        # - name: 'HR_multivariable'
        #   title: "HR (Multivariable)"
        #   type: text
      clearWith:
          - explanatory
          - outcome
          - outcomeLevel
          - overalltime
          - fudate
          - dxdate
          - tint
          - multievent



    - name:  tCoxtext2
      title: ''
      type:  Html
      refs: finalfit
      clearWith:
          - explanatory
          - outcome
          - outcomeLevel
          - overalltime
          - fudate
          - dxdate
          - tint
          - multievent
          - contexpl
      visible: (!sas)


    - name:  survTableSummary
      # title: '1, 3, 5-yr Survival Summary and Table'
      title: '`1, 3, 5-yr Survival Summary and Table  - ${explanatory}`'
      type:  Preformatted
      visible: (!sas)
      clearWith:
          - explanatory
          - outcome
          - outcomeLevel
          - overalltime
          - fudate
          - dxdate
          - tint
          - multievent




    - name:  survTable
      title: '`1, 3, 5 year Survival - ${explanatory}`'
      # title: '1, 3, 5 year Survival'
      type:  Table
      rows: 0
      columns:
        - name: strata
          title: "Levels"
          type: text
        - name: 'time'
          title: "time"
          type: integer
        - name: n.risk
          title: "Number at Risk"
          type: integer
        - name: n.event
          title: "Number of Events"
          type: integer
        - name: surv
          title: "Survival"
          type: number
          format: pc
        - name: lower
          title: "Lower"
          superTitle: '95% Confidence Interval'
          type: number
          format: pc
        - name: upper
          title: "Upper"
          superTitle: '95% Confidence Interval'
          type: number
          format: pc
      visible: (!sas)
      clearWith:
          - explanatory
          - outcome
          - outcomeLevel
          - overalltime
          - fudate
          - dxdate
          - tint
          - multievent




    - name:  pairwiseSummary
      # title: Pairwise Comparison Summary and Table
      title: '`Pairwise Comparison Summary and Table - ${explanatory}`'
      type:  Preformatted
      clearWith:
          - pw
          - explanatory
          - outcome
          - outcomeLevel
          - overalltime
          - fudate
          - dxdate
          - tint
          - multievent
      visible: (pw && !sas)



    - name:  pairwiseTable
      title: '`Pairwise Comparison Table - ${explanatory}`'
      type:  Table
      rows: 0
      columns:
        - name: rowname
          title: "Levels"
          type: text
        - name: name
          title: "Levels"
          type: text
        - name: value
          title: p-value
          type: number
          format: zto,pvalue
      visible: (pw && !sas)
      clearWith:
          - pw
          - explanatory
          - outcome
          - outcomeLevel
          - overalltime
          - fudate
          - dxdate
          - tint
          - multievent
      refs:
          - padjust



    - name: plot
      # title: Survival Plot
      title: '`Survival Plot - ${explanatory}`'
      type: Image
      width:  600
      height: 450
      renderFun: .plot
      visible: (sc)
      requiresData: true
      clearWith:
          - sc
          - endplot
          - byplot
          - sas
          - ci95
          - risktable
          - censored
          - explanatory
          - outcome
          - outcomeLevel
          - overalltime
          - fudate
          - dxdate
          - tint
          - multievent
          - pplot



    - name: plot2
      # title: Cumulative Events
      title: '`Cumulative Events - ${explanatory}`'
      type: Image
      width:  600
      height: 450
      renderFun: .plot2
      visible: (ce)
      requiresData: true
      clearWith:
          - ce
          - endplot
          - byplot
          - sas
          - ci95
          - risktable
          - censored
          - explanatory
          - outcome
          - outcomeLevel
          - overalltime
          - fudate
          - dxdate
          - tint
          - multievent



    - name: plot3
      # title: Cumulative Hazard
      title: '`Cumulative Hazard - ${explanatory}`'
      type: Image
      width:  600
      height: 450
      renderFun: .plot3
      visible: (ch)
      requiresData: true
      clearWith:
          - ch
          - endplot
          - byplot
          - sas
          - ci95
          - risktable
          - censored
          - explanatory
          - outcome
          - outcomeLevel
          - overalltime
          - fudate
          - dxdate
          - tint
          - multievent



    - name: plot6
      title: '`KMunicate-Style Plot - ${explanatory}`'
      type: Image
      width:  600
      height: 450
      renderFun: .plot6
      visible: (kmunicate)
      requiresData: true
      clearWith:
          - kmunicate
          - endplot
          - byplot
          - sas
          - explanatory
          - outcome
          - outcomeLevel
          - overalltime
          - fudate
          - dxdate
          - tint
          - multievent
      refs:
          - KMunicate
          - KMunicate2


    - name: calculatedtime
      title: Add Calculated Time to Data
      type: Output
      varTitle: '`Calculated Time - from ${ dxdate } to { fudate }`'
      varDescription: Calculated Time from given Dates
      clearWith:
          - tint
          - dxdate
          - fudate
          - explanatory
          - outcome
          - outcomeLevel
          - overalltime
          - fudate
          - dxdate
          - tint
          - multievent



    - name: outcomeredifened
      title: Add Redefined Outcome to Data
      type: Output
      varTitle: '`Redefined Outcome - from ${ outcome } for analysis { analysistype }`'
      varDescription: Redefined Outcome from Outcome based on Analysis Type
      clearWith:
          - outcome
          - analysistype
          - multievent
          - explanatory
          - outcomeLevel
          - overalltime
          - fudate
          - dxdate
          - tint
          - multievent

refs:
    - finalfit
    - survival
    - survminer
    - survivaltutorial
    - survivalrviews
    - appliedsurvivalanalysisR
    - ClinicoPathJamoviModule

...
